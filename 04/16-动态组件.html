<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>动态组件</title>
	<style type="text/css">
		
	</style>
	<script src="./vue.js" ></script>
</head>
<body>
	<div id="app">
		<input type="button" value="切换到第1个组件" @click="tabComponent(1)">
		<input type="button" value="切换到第2个组件" @click="tabComponent(2)">
		<input type="button" value="切换到第3个组件" @click="tabComponent(3)">
		<keep-alive>
			<component :is="current"></component>
		</keep-alive>
	</div>

	<script>

		/*动态组件*/

		var custom1 = Vue.component("custom1", {
			template:`
				<div @click="changeDivBG">我是第一个组件</div>
			`,
			methods:{
				changeDivBG(ev){
					ev.target.style.backgroundColor = "red";
				}
			}
		});

		var custom2 = Vue.component("custom2", {
			template:`
				<div>我是第二个组件</div>
			`
		});


		var custom3 = Vue.component("custom3", {
			template:`
				<div>我是第三个组件</div>
			`
		});


		new Vue({
			el: "#app",
			data : {
				current: custom1
			},
			methods:{
				tabComponent(index){
                    if (index === 1) {
                    	this.current = custom1;
                    } else if (index === 2) {
	                    this.current = custom2;
                    } else if (index === 3) {
	                    this.current = custom3;
                    }
				}
            }
		})

	</script>	

</body>
</html>